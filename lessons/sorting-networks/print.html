

  <!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Our site title and description -->
    
    <title> </title>

    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width" />

    <!-- Icons -->
      <link rel="shortcut icon" href="icons/favicon.ico">
      <link rel="apple-touch-icon-precomposed" sizes="144x144" href="icons/apple-touch-icon-144-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="114x114" href="icons/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="icons/apple-touch-icon-72-precomposed.png">
      <link rel="apple-touch-icon-precomposed" href="icons/apple-touch-icon-57-precomposed.png">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-rtl/3.2.0-rc2/css/bootstrap-rtl.min.css">
    <link rel="stylesheet" href="/_styles/style.css">

  </head>
  <body>





<div class="container">
  <div class="row">

    
    <div class="page-header">
      <h1>טובים השניים מן האחד<br><small>חישוב מקבילי - רשתות מיון</small></h1>
    </div>
      
    

    <br />

    <div class="container">
      <div class="col-md-10">

        <blockquote>
<p><em>&quot;הסוד לעשייה הוא להתחיל לעשות. הסוד להתחיל לעשות הוא לחלק את העשייה למשימות קטנות, ולהתחיל לעשות את המשימה הראשונה&quot; (מרק טווין)</em></p>
</blockquote>
<p>כמו ספורטאים, מדעני מחשב שוברים כל הזמן שיאים חדשים של מהירות ויעילות חישוב. כתוצאה מכך, יוצאים לשוק כל הזמן מחשבים מהירים יותר ויותר. האם זה אומר שבסופו של דבר נוכל לבצע כל משימה חישובית במהירות הבזק? לצערנו, התשובה היא לא. בעיות רבות בתחומי המדע והעסקים דורשות כמות חישוב כה רבה, שלא ניתן לפתור אותן בפרק זמן סביר על מחשב יחיד, אפילו אם זה המחשב המהיר והמתוחכם ביותר בעולם. אחת הדרכים להתמודד עם בעיות כאלה היא לנסות לפרק אותן לבעיות קטנות יותר שאפשר לטפל בהן במקביל, בעזרת מספר מחשבים. הטכניקה הזאת, שהיא דוגמא לשיטה כללית לפתרון בעיות שנקראת &quot;הפרד ומשול&quot;, עומדת בלב הפעילות הנוכחית.</p>
<h1>עיבוד סדרתי ועיבוד מקבילי</h1><p>חישבו על בנק גדול שיש לו מאות סניפים בכל רחבי הארץ. בכל יום בשבוע, מיליון לקוחות מפקידים כסף ומושכים כסף מהחשבונות שלהם. בסופו של כל יום עבודה, מחשב הבנק צריך לעבור על כל ההפקדות והמשיכות שאירעו משך היום, ולעדכן את חשבונות הלקוחות בהתאם: אם נטע משכה 100 שקלים, צריך להוריד 100 מיתרת החשבון שלה; אם ירון הפקיד 200 שקלים, צריך להוסיף 200 ליתרת החשבון שלו. הדרך הפשוטה לבצע את המשימה הזאת היא עיבוד סדרתי: מחשב מרכזי מטפל בכל אחת ממיליוני הפעולות בנפרד, אחת אחרי השנייה. בסיפור שלפנינו, מסתבר שזמן הריצה של עיבוד סדרתי כזה הוא ארבעים שעות. זהו עיכוב לא מתקבל על הדעת, כי עדכון החשבונות חייב להסתיים לפני פתיחת יום העבודה הבא. כדי להתמודד עם הבעיה, הבחינו אנשי הבנק כי רוב הפעולות שמתרחשות כל יום -- משיכות והפקדות בחשבונות שונים – הן בלתי תלויות זו בזו, ולכן אפשר לטפל בהן <strong>במקביל</strong>. לעומת זאת, יש פעולות שמשפיעות אחת על השנייה, ולכן חייבים לטפל בהן באופן <strong>סדרתי</strong>. למשל, נניח שבתחילת היום, בחשבון של ירון יש יתרה של 50 שקלים. בשעה 9:00 נטע מפקידה בחשבונו של ירון 600 שקלים, ובשעה 11:00 ירון מושך מחשבונו 500 שקלים. בשתי הפעולות האלה חייבים לטפל באופן סדרתי, כלומר, בדיוק בסדר שבו הן קרו; אחרת, הבנק היה דוחה את המשיכה של ירון ללא הצדקה.</p>
<p>כדי להאיץ את העדכון היומי של החשבונות, הבנק רכש עשרה מחשבים מהירים ופיתח תוכנה שמזהה איזה פעולות אפשר למקבל (לטפל במקביל) ואיך לחלק את העבודה בין המחשבים השונים. במערכת המקבילית החדשה, כל אחד מעשרת המחשבים עובד שבע שעות משך הלילה, ומסיים את משימת העדכון בזמן ליום העבודה הבא. שימו לב שזמן העיבוד הכולל של הפתרון המקבילי הוא 10X7=70 שעות, כמעט כפליים מזמן העיבוד של הפתרון הסדרתי עם מחשב בודד. אבל, בזכות העבודה המשותפת של עשרת המחשבים, המשימה מסתיימת בשבע שעות, במקום בארבעים שעות! ככלל, מערכת מיחשוב מקבילי עשויה לבצע יותר פעולות חישוב מאשר מחשב סדרתי בודד, אך כיוון שאלה מתחלקות בין מספר מחשבים שעובדים במקביל, זמן הריצה האפקטיבי יכול להתקצר באופן משמעותי.</p>
<p>למזלנו, יש הרבה משימות עסקיות ומדעיות שאפשר למקבל ולבצע באופן יעיל. יחד עם זאת, יש משימות רבות שלא ניתנות למיקבול, כי הן סדרתיות מטבע ברייתן. לדוגמא, אם צריך לחפור תעלה שאורכה עשרה מטר, אפשר למקבל את בצוע המשימה ע&quot;י הקצאת חמישה פועלים שכל אחד מהם יהיה אחראי על חפירת שני מטר. מאידך, אם רוצים לחפור בור שעומקו עשרה מטר, לא ניתן למקבל את בצוע המשימה: המטר הראשון חייב להיחפר לפני שמתחילים לחפור את המטר השני. חזרה לתעלה: שימו לב שיש גבול למיקבול האפשרי. למשל, אם נעסיק עשרה פועלים במקום חמישה, לא יהיה להם מרחב תמרון. הם יפריעו זה לזה, ויאטו את העבודה במקום להאיצה.</p>
<p>כדי להדגים איך מעצבים ומפעילים פתרונות מקביליים, נתמקד בפרק זה במשימה שימושית מאד: מיון. ספרי טלפונים ממוינים על פי שמות, רשימות מצביעים בקלפי ממוינות על פי מספרי תעודות זהות, שחקנים במשחק מחשב ממוינים לפי מספר הנקודות שצברו, וכן הלאה. כללית, משימת המיון פועלת על קבוצת עצמים שמוגדר עליהם יחס סדר מסוים, למשל, קבוצת מספרים עם הסדר &quot;קטן מ-&quot;, או קבוצת מילים עם הסדר האלפביתי. מטרת המיון היא ליצור קבוצה סדורה שבה העצמים מופיעים על פי יחס הסדר: העצם הקטן ביותר בראש הקבוצה, השני בגדלו מייד אחריו, וכך הלאה. לקבוצת העצמים המקורית קוראים &quot;קלט&quot;, ולקבוצה הממוינת &quot;פלט&quot; (ראו מיצג 1).</p>
<p>השיטה בעזרתה ממיינים את הקלט נקראת &quot;אלגוריתם מיון&quot;. כל אלגוריתמי המיון בעולם – ויש רבים כאלה -- מבוססים על אותה פעולה בסיסית: השוואה. בוחרים שני עצמים, לפי תכנית שנקבעה מראש, ומשווים אותם; לפי תוצאות ההשוואה, משנים (או לא) את סדר שני העצמים, וכותבים את התוצאה. את התהליך הזה ממשיכים עד שנוצר פלט ממוין. התכנית שמחליטה איזה זוג עצמים להשוות בכל שלב היא לב ליבו של העניין, והיא שתקבע בסופו של דבר את יעילות האלגוריתם.</p>
<div id="container" align="center">
<img class="img-responsive" src="img01.png" title="מיצג 1: אלגוריתם מיון">
<br>
<h4>מיצג 1: אלגוריתם מיון</h4>
<h5>המיון מודגם על קלט מסוים</h5>
</div>

<p>איך מחליטים איזה אלגוריתם הכי מתאים למשימה נתונה? המדד המקובל הוא זמן הריצה של האלגוריתם, וזה נקבע לפי מספר צעדי החישוב שהאלגוריתם מבצע. אם עומד לרשותנו מעבד אחד בלבד (אנושי או ממוחשב – זה לא משנה), אזי בכל צעד אפשר לבצע השוואה אחת בין שני עצמים מהקלט. לעומת זאת, אם עומדים לרשותנו מספר מעבדים, אפשר להמציא אלגוריתמים שמבצעים מספר השוואות בו-זמנית, ולהקטין את זמן המיון הכולל באופן משמעותי. אלגוריתמי המיון הללו הם דוגמא לתחום חשוב במדעי המחשב שנקרא &quot;עיבוד מקבילי&quot; (parallel processing). הפעילות הנוכחית מדגימה את רעיון העיבוד המקבילי בעזרת אלגוריתם שנקרא &quot;רשת מיון&quot; (sorting network).</p>
<h1>רשתות מיון</h1><p>מיצג 2 מתאר רשת מיון פשוטה ומשימת מיון ספציפית שמוצגת במספר מצבי ביניים. במצב 2-א הרשת ריקה מנתונים; מצב 2-ב הוא מצב התחלתי, בו הרשת טעונה בשלושה מספרי קלט; מצב 2-ו הוא מצב סופי, בו הרשת סיימה למיין את שלושת המספרים, מהקטן לגדול. שאר המצבים הם מצבי ביניים בתהליך המיון. במהלך ההסבר בכתה צריך להציג רשת אחת בלבד, ולהוליך את הילדים דרך המצבים השונים, כפי שמתואר במיצג 2.</p>
<p>ניתן לצייר את הרשת על הלוח, אך כדי לחסוך זמן וטעויות מומלץ לציירה מראש על משטח מחיק שאפשר להציגו לפני הכתה. כמו כן, מומלץ לכתוב את המספרים שרוצים למיין על פיסות קרטון שניתן להדביקן על המשטח ולהסירן בקלות; זה יאפשר להסיע את המספרים דרך הרשת, כמו שרואים במיצג 2, בלי להסתבך בכתיבה ומחיקה מיותרים. בכל מקרה, חשוב לצייר את הרשת בפורמט גדול. בפרט, העיגולים והריבועים צריכים להיות בגודל נדיב שיאפשר לכתוב, למחוק, או להדביק בתוכם מספרים בני שלוש ספרות ומילים קצרות בלי לקלקל את ציור הרשת.</p>
<p>הסבירי לכתה שהפעילות מדגימה איך ניתן למיין מספרים באמצעות מודל חישובי שנקרא &quot;רשת מיון&quot; (sorting network). התחילי את ההסבר ע&quot;י הצגת הרשת במצב 2-א. תארי את רכיבי הרשת השונים, והצביעי על מיקומם בלוח. רשת מיון היא אוסף של צמתים וחיצים. העיגולים בקצה השמאלי של הרשת נקראים &quot;צמתי קלט&quot;, ואלה שבקצה הימני נקראים &quot;צמתי פלט&quot;. שאר הצמתים מסומנים על ידי מלבנים חצויים לשניים, ונקראים &quot;צמתי השוואה&quot;. מכל צומת קלט יוצא חץ אחד, ולכל צומת פלט נכנס חץ אחד. לכל צומת השוואה נכנסים שני חיצים, ויוצאים ממנו שני חיצים. כל החיצים מכוונים לצד אחד, משמאל לימין.</p>
<div id="container" align="center">
<img class="img-responsive" src="img02.png" title="מיצג 2: רשת מיון לקלט בגודל 3">
<br>
<h4>מיצג 2: רשת מיון לקלט בגודל 3</h4>
<h5>תהליך המיון מוצג על קלט מסוים, בשישה מצבי ביניים מסומנים באותיות א, ב, ג, ד, ה, ו</h5>
</div>

<p>כיצד פועלת רשת מיון? בתחילת הפעולה מכניסים את המספרים שרוצים למיין לצמתי הקלט, מספר אחד בכל צומת (הכניסי את המספרים 5, 2, 7 מלמעלה למטה, כפי שרואים במצב 2-ב). כאשר כל צמתי הקלט מכילים מספרים, אפשר להתחיל בתהליך המיון: כל מספר מתקדם לאורך החץ היוצא מצומת הקלט שלו עד צומת ההשוואה הקרוב ביותר (הציגי על הלוח את מצב 2-ג). בצומת הזה הוא ממתין להגעת מספר נוסף (מיקום שני המספרים בתוך הצומת – מי למעלה ומי למטה – הוא חסר משמעות). כאשר צומת מתמלא בשני מספרים, מתבצעת השוואה ביניהם. המספר הגדול יותר ממשיך לנוע על החץ היוצא ימינה, והמספר הקטן ממשיך לנוע על החץ היוצא שמאלה (הציגי על הלוח את מצב 2-ד, ולאחר מכן את מצב 2-ה)<a href="#" data-toggle="tooltip" title="אם צומת השוואה מכילה שני מספרים שווים, שניהם נעים קדימה, אחד על כל חץ."><sup>1</sup></a> . כך ממשיך כל מספר לטייל ברשת, עובר צמתי השוואות שמנתבים אותו ימינה או שמאלה, עד שהוא מגיע אל המנוחה והנחלה -- לצומת פלט כלשהו (הציגי את מצב 2-ו). בסוף הטיול הזה, כאשר כל המספרים מגיעים אל צמתי הפלט, מתרחש קסם קטן: המספרים מגיחים מהרשת ממוינים, כשהקטן למעלה והגדול למטה!</p>
<p><strong>שאלה</strong>: האם הרשת הזאת יכולה למיין כל שלושה מספרים שהם?
<strong>תשובה</strong>: כן. כדי להדגים זאת, בקשי מאחד הילדים לגשת אל הלוח ולכתוב שלושה מספרים כלשהם בצמתי הקלט. רצוי שמספרי הקלט ייכתבו בסדר לא ממוין, אם כי נחמד להראות שגם כאשר מכניסים לקלט סדרת מספרים ממוינת, היא מגיחה מהרשת בדיוק כפי שהיא נכנסה – ממוינת. בקשי מהילד לבצע את המיון, והיי מוכנה לסייע ולתקן אם הוא יעשה טעות. אם חל בלבול כלשהו, אפשר פשוט להתחיל את כל המיון מחדש.
<strong>שאלה</strong>: הרשת הנוכחית ממיינת מספרים מהקטן לגדול; איך אפשר לגרום לרשת למיין מספרים בסדר הפוך, מהגדול לקטן?
<strong>תשובה</strong>: ברשת הנוכחית, בכל צומת השוואה המספר הקטן פונה שמאלה והגדול ימינה. כדי שהרשת תמיין בסדר הפוך, צריך לשנות את חוקי המשחק: בכל צומת השוואה, המספר הקטן צריך לפנות ימינה והגדול שמאלה.
<strong>שאלה</strong>: האם אפשר ליצור רשת מיון שיכולה למיין גם אותיות, או מילים?
<strong>תשובה</strong>: רשת מיון יכולה למיין כל קבוצת פריטים שמוגדר עליה יחס סדר כלשהו. מכיוון שעל אותיות ומילים אפשר להגדיר סדר אלפביתי, הרשת יכולה למיין אותן. הדגימי זאת ע&quot;י מיון של שלוש מילים כלשהן, לדוגמא &quot;מטוס&quot;, &quot;צל&quot;, ו- &quot;אגס&quot;. בסוף תהליך המיון צמתי הפלט צריכים להכיל את המילים &quot;אגס&quot;, &quot;מטוס&quot;, ו- &quot;צל&quot;, מלמעלה למטה.</p>
<p>כעת, הבה נגדיר על קבוצת המילים סדר אחר: אנו אומרים שמילה אחת שוקלת יותר מהשנייה אם יש בה יותר אותיות. הציבי שוב את שלושת המילים &quot;מטוס&quot;, &quot;צל&quot;, ו- &quot;אגס&quot; בצמתי הקלט של הרשת, ובקשי מאחד הילדים לגשת ללוח ולמיין אותן לפי סדר המשקל שלהן. בסוף תהליך המיון, צמתי הפלט צריכים להכיל את המילים &quot;צל&quot;, &quot;אגס&quot;, ו &quot;מטוס&quot;, מלמעלה למטה.</p>
<h1>פעילויות בכתה</h1><p><strong>פעילות ראשונה</strong>: חלקי את הכתה לקבוצות בנות ארבעה ילדים, ותני לכל קבוצה עותק של <a href="appendix-a.html">דף פעילות 1</a>
 | <a href="appendix-d.html">(גירסה בערבית)</a>
. כתבי על הלוח ארבעה מספרים, למשל 17, 20, 5, 12, והנחי את הילדים לכתוב אותם בצמתי הקלט בדפי הפעילות שלהם, בכל סדר שהוא. כעת הנחי את הילדים להשתמש ברשת המיון כדי למיין את המספרים בדפי הפעילות שלהם. מומלץ לעשות זאת בעזרת עיפרון ומחק; אם חלה טעות כלשהי, יש לאתר את מקור הטעות, לתקן, ולהמשיך משם. אם יש צורך בכך, אפשר לחלק עותקים נקיים נוספים של <a href="appendix-a.html">דף פעילות 1</a>
 | <a href="appendix-d.html">(גירסה בערבית)</a>
.</p>
<div id="container" align="center">
<img class="img-responsive" src="img03.png" title="מיצג 3: רשת מיון לקלט בגודל 4 ">
<br>
<h4>מיצג 3: רשת מיון לקלט בגודל 4 </h4>
<h5>(עותק של דף פעילות 1)  </h5>
</div>

<p>בקשי מכל קבוצה שסיימה את תהליך המיון להקריא בקול רם את ארבעת המספרים שנמצאים בצמתי הפלט שלהם, מלמעלה למטה, וכתבי את התוצאה על הלוח. צייני לכתה שאף על פי שכל קבוצה התחילה את תהליך המיון עם סדר שרירותי של ארבעת מספרי הקלט, כל הקבוצות סיימו עם אותו פלט בדיוק.</p>
<p><strong>פעילות שנייה</strong>: בהינתן שתי מילים כלשהן, אנו אומרים שמילה מופיעה לפני חברתה בסדר אלפביתי אם האות הראשונה של המלה מופיעה בסדר האותיות לפני האות הראשונה של חברתה. אם שתי האותיות הנוכחיות זהות, משווים את שתי האותיות הבאות בשתי המילים, וכן הלאה. למשל, &quot;שמואל&quot; קטן מ- &quot;שמעון&quot;, &quot;שמעון&quot; קטן מ- &quot;שמשון&quot;, וכן הלאה.</p>
<p>חלקי לכל קבוצה עותק נוסף של <a href="appendix-a.html">דף פעילות 1</a>
 | <a href="appendix-d.html">(גירסה בערבית)</a>
. הנחי את הילדים לכתוב את שמותיהם בצמתי הקלט, שם אחד בכל צומת. אם בקבוצה כלשהי יש פחות מארבעה ילדים, אפשר למלא את החסר עם שמות נוספים כלשהם. הנחי את הילדים להשתמש ברשת כדי למיין את השמות בסדר אלפביתי.</p>
<p><strong>פעילויות נוספות</strong>: בעזרת עותקים נוספים של <a href="appendix-a.html">דף פעילות 1</a>
 | <a href="appendix-d.html">(גירסה בערבית)</a>
, אפשר להרחיב ולשחק משחקים נוספים:</p>
<ul>
<li>מיון מספרים תלת ספרתיים, למשל 422, 499, 221, 823</li>
<li>מיון מילים בעברית היוצרות רצף בעל משמעות כלשהי, למשל &quot;כינים ערוב צפרדע שחין&quot;, או &quot;יוסף וכותונת הפסים המשגעת&quot;.</li>
<li>מיון מילים באנגלית, למשל:  dog, horse, bee, fish</li>
<li>מיון מילים לפי משקלן (מספר האותיות במילה).</li>
</ul>
<h1>פעילות מחוץ לכתה</h1><p>מטרת הפעילות לחדד את הבנת עקרון המקביליות, וזאת ע&quot;י משחק משעשע מחוץ לכתה. המשחק דורש הכנה מראש. אתרי משטח אספלט או משטח מרוצף כמו מגרש כדורסל, וציירי עליו בגיר עבה את רשת המיון שמופיעה במיצג 4, עם צמתים ריקים. המשבצות והעיגולים צריכים להיות מצוירים בגודל כזה שלילד יהיה נוח לעמוד בתוכם, וכל חץ צריך להיות באורך של 2-3 צעדים. שימי לב: ציור הרשת דורש תכנון וזמן. אם עושים אותו כמו שצריך, הפעילות תהייה הצלחה גדולה; אם מציירים ברשלנות או שוכחים חץ או צומת כלשהם, יהיה בלגן אמיתי. כדי שהמגרש לא ייגמר באמצע הציור, כדאי למדוד בצעדים ולחלק אותו לשבע רצועות שוות (משמאל לימין) לפני שמתחילים לצייר. כמו כן, כדאי להצטייד בבקבוק מים וסמרטוט כדי למחוק טעויות בציור הגיר. בקיצור, צריך להקדיש לזה שעה עבודה לפני השיעור, וכדאי לשמור גיר כדי לחדש חלקים מהציור ממש לפני המשחק או במהלכו.</p>
<p>אנו ממליצים מאד על ביצוע הפעילות מחוץ לכתה, אך אם מסיבה כלשהי לא ניתן לשחק בחוץ, אפשר לעשות פעילות חליפית בכתה. חלקי לילדים עותקים של <a href="appendix-b.html">דף פעילות 2</a>
 | <a href="appendix-e.html">(גירסה בערבית)</a>
, והנחי אותם למיין קבוצות של ששה מספרים ושל שש מילים.</p>
<div id="container" align="center">
<img class="img-responsive" src="img04.png" title="מיצג 4: רשת מיון לקלט בגודל 6">
<br>
<h4>מיצג 4: רשת מיון לקלט בגודל 6</h4>
<h5>המיצג מדגים איך האלגוריתם ממיין קלט מסוים</h5>
</div>

<p><strong>תיאור הפעילות מחוץ לכתה</strong>: חלקי את הילדים לקבוצות בנות שישה ילדים כל אחת. בכל שלב בפעילות קבוצה אחת פעילה, ושאר הקבוצות צופות. בתחילת המשחק, כל ילד בקבוצה מקבל מספר או מילה. במהלך המשחק הילד נע לאורך החיצים ומבצע השוואות בצמתי ההשוואה. אם אחד הילדים טועה (פונה שמאלה במקום ימינה או להיפך), כל הקבוצה חייבת להתחיל את המשחק מהתחלה. המשחק מתנהל באופן הבא:</p>
<ol>
<li>כל אחד מששת הילדים בקבוצה המשחקת מקבל כרטיס עם אחד המספרים 1,2,3,4,5,6, ומצמיד אותו לחולצה באופן ברור, כך שהצופים באירוע יוכלו לראותו בבירור.</li>
<li>כל ילד בוחר באופן שרירותי צומת קלט כלשהו בצד השמאלי של הרשת ונעמד בו.</li>
<li>כאשר אכריז &quot;למקומות, היכון, צאו!&quot;, התחילו לנוע קדימה לאורך החיצים, עד שתגיעו לצומת השוואה. בכל פעם שמגיעים לצומת כזה צריך לעצור ולהמתין עד שילד אחר בקבוצה יגיע גם כן לצומת. (מניסיון העבר, יש ילדים שדרכם אצה להם ואינם ממתינים; לכן המשחק הוא גם תירגול טוב לסבלנות ואורך רוח).</li>
<li>כאשר ילד נוסף מגיע לצומת, השוו את שני המספרים שלכם. הילד עם המספר הגדול יותר ממשיך לנוע קדימה לאורך החץ הימני; הילד השני ממשיך לנוע קדימה לאורך החץ השמאלי. זיכרו: <strong>גדול ימינה, קטן שמאלה</strong>.</li>
<li>כשתגיעו לקצה הרשת, עיצרו בצומת הפלט אליה הגעתם וחכו עד שכל הילדים האחרים בקבוצה יגיעו גם כן. כשכולם הגיעו, הציגו את המספרים לשאר הכתה וודאו שהם ממוינים בסדר הנכון.</li>
</ol>
<p>כדי לתרגל את חוקי המשחק, רצוי שכל קבוצה תתחיל עם ביצוע מהלך אחד בהילוך איטי: נעים עד צומת ההשוואה הראשון, משווים את שני המספרים, ודנים במה צריך להיות הצעד הבא, בלי לבצע אותו. לאחר מכן חוזרים חזרה לצמתי הקלט ומחכים לפקודה &quot;למקומות, היכון, צאו!&quot;.</p>
<p>כל קבוצה משחקת נגד השעון. אחד הילדים שאינם משחקים יתמנה לשופט וימדוד כמה זמן נדרש לקבוצה להשלים את משימת המיון. המורה ירשום את זמני המיון של כל הקבוצות, ובסוף הפעילות יכריז על הקבוצה הזריזה ביותר.</p>
<p>אם הזמן דוחק, לא כל הקבוצות חייבות לשחק. לצפייה במשחק מהצד יש גם כן ערך חינוכי לא מבוטל. לעומת זאת, אם יש זמן ועניין, אפשר לשחק עם קלטים יותר מעניינים, לדוגמא, מילים בעברית היוצרות רצף משמעותי כמו &quot;בערוגת הגינה הכרוב מרקד עם צנונית&quot; (התנצלותנו לחיים נחמן) או &quot;אני בטוח לא לובש שמונה תחתונים&quot; (התנצלותנו לתעשיית הטקסטיל), וכן הלאה. ניתן גם להציע לכל קבוצה להמציא שישיית מילים שתיצור משפט בעל משמעות כשתמוין מלמטה למעלה (או להיפך). מסתבר שזו לא משימה כה קלה!</p>
<h1>דיון</h1><p>בסיום הפעילויות – בכתה או בחוץ – מומלץ להתכנס חזרה בכתה ולערוך דיון על מה שעשינו. יתרת הפרק מפרטת מספר נושאים אפשריים לדיון. הנושאים הם בלתי תלויים זה בזה, וכל מורה מוזמן לבחור באיזה מהם הוא מעוניין לעסוק בכתה. בכל מקרה, כדאי להתחיל את הדיון עם הפתיח הבא.</p>
<p>כשמבקשים מתכנית מנוע חיפוש להציג דפי אינטרנט שמוזכרת בהם מילה מסוימת, התכנית מחזירה מייד אלפי דפים ממוינים בסדר יורד, לפי מספר שמייצג מדד התאמה למילת החיפוש. כדי לחפש ולמיין את הדפים הללו, מנועי חיפוש משתמשים באלגוריתמים דומים למשחק בו שיחקנו היום. איך הצוות שפיתח את תוכנת מנוע החיפוש יודע באיזה אלגוריתם לבחור? ואיך ניתן לממש בחומרה (כלומר, ממש לבנות) אלגוריתמים כאלו? אלה חלק מהנושאים בהם נדון כעת.</p>
<h1>ניתוח יעילות</h1><p>נתונים שני אלגוריתמים שמבצעים את אותה משימה בשתי דרכים שונות. איך שופטים איזה אלגוריתם יעיל יותר? עושים זאת בעזרת שני מדדים: זמן הריצה של האלגוריתם, וכמות משאבי המחשב שהוא צורך (מעבדים וזיכרון). לדוגמא, נניח שהמשימה היא למיין ששיות של מספרים, כמו שעשינו בפעילות האחרונה, ושני האלגוריתמים המתחרים הם:</p>
<ul>
<li>אלגוריתם מיון סדרתי</li>
<li>אלגוריתם מיון מקבילי</li>
</ul>
<p><strong>אלגוריתם מיון סדרתי</strong>: בלי להיכנס לפרטים, ניתן להראות שאלגוריתם המיון הסדרתי המהיר ביותר בעולם ימיין שישה מספרים בעשרה צעדי חישוב. האלגוריתם ישתמש במעבד אחד בלבד.</p>
<p><strong>אלגוריתם מיון מקבילי</strong>: כדי לנתח את זמן הריצה של האלגוריתם, צריך להתבונן במבנה רשת המיון ולקבץ יחד את כל פעולות החישוב שניתן לבצע בו-זמנית, כמו שרואים במיצג 5. המסקנה היא שהאלגוריתם יסיים את משימת המיון בחמישה צעדי חישוב. בכמה מעבדים האלגוריתם משתמש? במבט ראשון, נראה כאילו רשת המיון דורשת 12 מעבדים (אחד לכל צומת השוואה). למעשה, כפי שרואים במיצג 5, בכל רגע נתון אנו עושים שימוש בשלושה מעבדים לכל היותר. לכן, ובלי להיכנס לפרטים טכניים, ניתן לבנות רשת מיון כזאת בעזרת שלושה מעבדים בלבד.</p>
<p>לסיכום: במשימה הנוכחית, האלגוריתם המקבילי פועל פי שתיים יותר מהר מהאלגוריתם הסדרתי, ודורש פי שלוש יותר מעבדים. אז באיזה אלגוריתם כדאי לבחור? כדי לענות על השאלה הזאת, צריך לראיין את אשת העסקים או המדענית שצריכה את האלגוריתם הזה, ומוכנה לשלם על המימוש שלו. כמה באמת חשוב לך לקבל את הפתרון בחצי מהזמן? והאם את מוכנה לשלם את מחירם של שלושה מעבדים במקום אחד? שאלות כאלה – של עלות/תועלת – משתנות מאד ממצב אחד לשני. יחד עם זאת, עכשיו יש לנו את כל הכלים לענות עליהן ולהצדיק את התשובה עם נימוקים מוחצים.</p>
<div id="container" align="center">
<img class="img-responsive" src="img05.png" title="מיצג 5: רשת מיון עם חלוקה לצעדי חישוב">
<br>
<h4>מיצג 5: רשת מיון עם חלוקה לצעדי חישוב</h4>
<h5>&quot;צעד חישוב&quot; מכיל את כל הפעולות שניתן לבצע בו-זמנית</h5>
</div>

<h1>משימות נוספות שניתנות למיקבול</h1><p>קיימות משימות חישוביות רבות, בנוסף למיון, אותן ניתן למקבל ולהאיץ בעזרת רשתות. למשל, הרשת במיצג 6 נבנתה כדי למצוא את המספר הגדול ביותר בקלט בן שמונה מספרים (גרסה ריקה של הרשת הזאת מודפסת <a href="appendix-c.html">בסוף הפרק</a>).</p>
<p><strong>שאלה</strong>: כמה צעדי חישוב יש ברשת הזאת?
<strong>תשובה</strong>: 3 צעדים. בצעד הראשון ארבעה זוגות של מספרים מושווים במקביל. בצעד השני שני זוגות מושווים במקביל, ובצעד השלישי מתבצעת השוואה אחת.
<strong>שאלה</strong>: הרשת הנוכחית מוצאת את המספר הגדול ביותר בקלט; איך אפשר לבנות רשת שמוצאת את המספר הקטן ביותר בקלט?
<strong>תשובה</strong>: ברשת הנוכחית, בכל צומת השוואה המספר הגדול ממשיך קדימה והמספר הקטן יוצא מהמשחק. כדי שהרשת תמצא את המספר הקטן ביותר בקלט, צריך לשנות את חוקי המשחק: בכל צומת השוואה, המספר הקטן ממשיך קדימה והמספר הגדול יוצא מהמשחק.</p>
<p>פעילות: הסירי את מיצג 6 מהלוח, והנחי את הילדים לתכנן ולצייר רשת למציאת המספר הקטן ביותר בקלט של ארבעה מספרים. הנחי אותם לבדוק את הרשת על שני הקלטים הבאים:(7,12,5,8), (3,2,15,2) . (אם הילדים יוכלו לראות את מיצג 6, המשימה תהיה קלה מדי).</p>
<div id="container" align="center">
<img class="img-responsive" src="img06.png" title="מיצג 6: רשת למציאת מקסימום">
<br>
<h4>מיצג 6: רשת למציאת מקסימום</h4>
<h5>תהליך החישוב מודגם עבור קלט מסוים</h5>
</div>

<p>איזה משימות נוספות בחיים ניתן להאיץ בעזרת מיקבול?  לדוגמא:</p>
<ul>
<li>הכנת ארוחת ערב (חביתה, סלט ירקות, סלט טונה, ...)
תשובה: אפשר למקבל את כל שלושת הפעולות.</li>
<li>בניית בית (יסודות, קירות, גג, צנרת, ...)
תשובה: חלק מהפעולות, כמו בניית גג והנחת צנרת, ניתנות למיקבול.</li>
<li>לבישת בגדים בבקר (גרביים, נעליים, תחתונים, מכנסיים, חולצה, ...)
תשובה: נראה כאילו התהליך לא ניתן למיקבול. אם מישהו בכל זאת מצליח למקבל כאן, אולי כדאי לתעד זאת ב youtube ...</li>
<li>דוגמאות נוספות?</li>
</ul>
<h1>מחשבים ייעודיים</h1><p>מתי כדאי להשתמש בפתרונות סדרתיים, ומתי במקביליים? כדי להמשיך את הדיון הזה, כדאי להבחין בין &quot;מחשבים למטרות כלליות&quot; ל- &quot;מחשבים ייעודיים&quot;. מחשב למטרות כלליות (general-purpose computer) הוא מחשב יקר ומסובך יחסית שמסוגל לבצע משימות רבות ומגוונות. כשנדרשים לבצע משימה כלשהיא, כותבים תוכנית מתאימה, טוענים אותה למחשב, והמחשב מבצע אותה. מחשב כזה פועל בדרך כלל בעזרת מעבד מרכזי (CPU) בודד שמתאים למשימות חישוב סדרתיות. לעומת זאת, מחשב ייעודי (dedicated computer) הוא מחשב פשוט וזול יחסית, שפועל בלי מסך ומקלדת, ובנוי לבצע ביעילות משימת חישוב אחת ויחידה. כדי להשיג את היעילות הנדרשת מהם, מחשבים ייעודיים נבנים לעיתים קרובות עם מספר מעבדים שפועלים במקביל.</p>
<p>מחשב אישי הוא דוגמא טובה למחשב למטרות כלליות, משום שהוא נדרש לבצע מגוון עצום של יישומים החל ממשחקי מחשב וכלה בגיליונות חישובים אלקטרוניים. לעומת זאת, מיליארדי המחשבים שפועלים עמוק בתוך מכוניות, מטוסים, מצלמות, ומערכות שליטה ובקרה שונות הם כולם מחשבים ייעודיים. לדוגמא, נניח שאנו נדרשים לבנות רכיב למערכת &quot;פוטו-פיניש&quot; אלקטרו-אופטית שמדרגת תוצאות באירועים תחרותיים. הקלט של הרכיב הוא זמני המתחרים בסוף התחרות, והפלט הוא דירוג המנצחים: מקום ראשון, מקום שני, וכדומה. הפתרון הפשוט הוא לגייס מחשב אישי רגיל ולכתוב תוכנית שממיינת את זמני המתחרים בעזרת אלגוריתם מיון סדרתי. הפתרון הזה יעלה הרבה כסף ויעבוד לאט. לחילופין, ניתן לבנות רכיב שמבוסס על מספר מעבדים זולים שיבצעו את דירוג המתחרים בעזרת רשת מיון מקבילית. מחשב ייעודי כזה – אם נייצר אותו בכמויות גדולות -- יהיה זול, מהיר, ואמין. במאמר מוסגר, מחשבים ייעודיים נקראים לפעמים גם רכיבי ASIC, או Application Specific Integrated Circuits</p>
<p>סוג נוסף של מערכות מקביליות, שנהייה מאד פופולארי בשנים האחרונות, הוא &quot;חוות שרתים&quot; שבנויות מאלפי מחשבים אישיים שעובדים במקביל על אותה משימה. לדוגמא, מנוע החיפוש של חברת גוגל מבוסס על רשת של חצי מיליון מחשבים שפועלים יחד כדי לבצע שתי משימות: (א) עדכון יומיומי של מיליוני אינדקסים (רשימות של כל הדפים באינטרנט בהם מופיעה כל מילה בכל שפה), ו- (ב) טיפול יומיומי במאות מיליוני שאילתות חיפוש. למזלה הגדול של חברת גוגל, שתי המשימות האלה מתאימות מאד למיקבול.</p>
<hr>
<p>רשתות חישוב כמו אלה בהן שיחקנו היום יכולות להאיץ משימות רבות באופן משמעותי. זוהי רק דוגמא אחת לתחום שלם במדעי המחשב שנקרא &quot;עיבוד מקבילי&quot; (parallel processing) או &quot;חישוב מקבילי&quot; (parallel computation). תחום קרוב נוסף נקרא &quot;חישוב שיתופי&quot; (cooperative computing).
חלק מהמחקר בתחומים האלה מנסה להתחקות על, ולחקות את, האופן בו פועל המוח האנושי. מוח האדם הוא המחשב המקבילי הגדול בעולם, בן מאה מיליארד מעבדים (נוירונים)! אין פלא שאנו מסוגלים לעשות הרבה דברים במקביל, כמו לעבוד על המחשב ולראות טלביזיה ולשמוע שירים ולדבר בטלפון ולצ&#39;וטט עם חברים ולכתוב אימיילים ולחלום חלומות ואפילו ללעוס מסטיק באותו זמן.</p>




  
  
    <h1>דף פעילות 1</h1><p>שני עותקים זהים של רשת מיון לקלט בגודל 4.</p>
<p>בכל משימת מיון משתמשים בעותק אחד.
או, אם עותק אחד נהייה יותר מדי מקושקש, אפשר להשתמש בשני.</p>
<p><br>
<br></p>
<p><div id="container" align="center">
  <img class="img-responsive" src="img03.png" title="">
</div>
<br>
<br>
<br></p>
<p><div id="container" align="center">
  <img class="img-responsive" src="img03.png" title="">
</div>
<br>
<br>
<br></p>

  

  
  
    <h1>דף פעילות 2</h1><p>(במקרה שמחליטים להחליף את הפעילות מחוץ לכתה בפעילות בתוך הכתה)</p>
<p>בכל משימת מיון משתמשים בעותק אחד.
או, אם עותק אחד נהייה יותר מדי מקושקש, אפשר להשתמש בשני.</p>
<p><br>
<br></p>
<p><div id="container" align="center">
  <img class="img-responsive" src="img07.png" title="">
</div>
<br>
<br>
<br></p>
<p><div id="container" align="center">
  <img class="img-responsive" src="img07.png" title="">
</div>
<br>
<br>
<br></p>

  

  
  
    <h1>רשת למציאת מקסימום</h1><p>אפשר להדביק על קרטון ולהציג לכתה.
אבל, עדיף ליצור (או לצייר על הלוח) גרסה גדולה יותר של הרשת הזאת,
כדי שיהיה קל לכתוב בתוכה מספרים אותם יראו מרחוק.</p>
<p><br>
<br></p>
<p><div id="container" align="center">
  <img class="img-responsive" src="img08.png" title="">
</div>
<br>
<br>
<br></p>

  

  
  
    <div id="container" align="center">
  <img class="img-responsive" src="img09.png" title="">
</div>


  

  
  
    <div id="container" align="center">
  <img class="img-responsive" src="img10.png" title="">
</div>
        <br><br>

        
        <div id="disqus_thread" class="span9 offset1"></div>
        

      </div>
      <div class="col-md-2">
      </div>

    </div>
  </div>
</div>



    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script type="text/javascript">
    var Swiftype = window.Swiftype || {};
      (function() {
        Swiftype.key = 'FbKv4mDi54Z5vEeYzz8i';
        Swiftype.renderStyle = 'new_page';
        Swiftype.resultPageURL = '/search-results';

        /** DO NOT EDIT BELOW THIS LINE **/
        var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
        script.src = "//s.swiftypecdn.com/embed.js";
        var entry = document.getElementsByTagName('script')[0];
        entry.parentNode.insertBefore(script, entry);
      }());
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45238302-1', 'auto');
      ga('send', 'pageview');

    </script>

  </body>
</html>

